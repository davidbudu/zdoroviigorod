{% extends "help/base.html" %}
{% load custom_filters %}

{% block title %}Edit Request - Help Portal{% endblock %}

{% block content %}
<div class="card">
    <h2 style="margin-bottom: 10px;">Edit Request #{{ request_obj.id }}</h2>
    <p style="color: #64748b; margin-bottom: 30px;">Category: <strong>{{ request_obj.help_category.name }}</strong></p>
    
    <form method="POST">
        {% csrf_token %}
        
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                {% if field.field.widget.input_type == "textarea" %}
                    <textarea name="{{ field.name }}" id="{{ field.id_for_label }}" style="min-height: 120px;"></textarea>
                {% else %}
                    {{ field }}
                {% endif %}
                {% if field.errors %}
                    <div class="error">
                        {% for error in field.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        {% endfor %}
        
        <div style="display: flex; gap: 15px; margin-top: 30px;">
            <button type="submit" class="btn btn-primary">Save Changes</button>
            <a href="{% url 'dashboard' %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}