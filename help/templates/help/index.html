{% extends "help/base.html" %}
{% load custom_filters %}

{% block title %}Pagina principală - Sistem de evidență a ajutorului{% endblock %}

{% block content %}
<div style="text-align: center; margin-bottom: 60px; color: white;">
    <h1 style="font-size: 56px; margin-bottom: 20px; font-weight: 800;">
        Bun venit la sistemul de evidență a ajutorului
    </h1>
    <p style="font-size: 20px; opacity: 0.95; margin-bottom: 30px; max-width: 800px; margin-left: auto; margin-right: auto;">
        Platformă convenabilă pentru furnizorii de ajutor pentru evidența clienților și a serviciilor furnizate
    </p>
    
    {% if not user.is_authenticated %}
    <div style="display: flex; gap: 20px; justify-content: center; margin-top: 40px;">
        <a href="{% url 'register' %}" class="btn btn-primary" style="font-size: 18px; padding: 16px 40px;">
            Începeți să lucrați
        </a>
        <a href="{% url 'login' %}" class="btn btn-secondary" style="font-size: 18px; padding: 16px 40px;">
            Autentificare
        </a>
    </div>
    {% endif %}
</div>

<!-- Statistici -->
<div class="grid grid-3" style="margin-bottom: 60px;">
    <div class="stat-card">
        <div class="stat-number">{{ total_people }}</div>
        <div class="stat-label">Persoane în sistem</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">{{ total_providers }}</div>
        <div class="stat-label">Furnizori de ajutor</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">{{ categories.count }}</div>
        <div class="stat-label">Tipuri de ajutor</div>
    </div>
</div>

<!-- Tipuri de ajutor disponibile -->
<div class="card">
    <div class="card-header">
        <h2 class="card-title">Tipuri de ajutor disponibile</h2>
    </div>
    
    {% if categories %}
    <div class="grid grid-4">
        {% for category in categories %}
        <div class="category-card" style="background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); padding: 20px;">
            <div style="font-size: 48px; margin-bottom: 15px;">
                {{ category.icon|default:"📋" }}
            </div>
            <h3 style="color: #1f2937; margin-bottom: 10px; font-size: 18px;">
                {{ category.name }}
            </h3>
            <p style="color: #64748b; font-size: 14px; margin-bottom: 20px;">
                {{ category.description|default:"Descrierea lipsește" }}
            </p>
            {% if user.is_authenticated %}
            <a href="{% url 'people_list' %}?help_category={{ category.id }}" 
               class="btn btn-primary btn-small">
                Vezi persoanele
            </a>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <div class="empty-state-icon">📋</div>
        <h3 style="margin-bottom: 10px;">Tipurile de ajutor lipsesc</h3>
        <p>Încă nu a fost adăugat niciun tip de ajutor. Contactați administratorul.</p>
    </div>
    {% endif %}
</div>

<!-- Avantajele sistemului -->
{% if not user.is_authenticated %}
<div class="grid grid-3" style="margin-top: 60px;">
    <div class="card" style="text-align: center;">
        <div style="font-size: 48px; margin-bottom: 20px;">👥</div>
        <h3 style="color: #1f2937; margin-bottom: 15px;">Evidența clienților</h3>
        <p style="color: #64748b;">
            Mențineți o bază de date completă a clienților cu posibilitatea de căutare și filtrare
        </p>
    </div>
    
    <div class="card" style="text-align: center;">
        <div style="font-size: 48px; margin-bottom: 20px;">📊</div>
        <h3 style="color: #1f2937; margin-bottom: 15px;">Gestionarea serviciilor</h3>
        <p style="color: #64748b;">
            Urmăriți toate serviciile furnizate și statusurile lor într-un singur loc
        </p>
    </div>
    
    <div class="card" style="text-align: center;">
        <div style="font-size: 48px; margin-bottom: 20px;">🔒</div>
        <h3 style="color: #1f2937; margin-bottom: 15px;">Securitatea datelor</h3>
        <p style="color: #64748b;">
            Control al accesului la date: editați doar tipurile dvs. de ajutor
        </p>
    </div>
</div>

<!-- Îndemnul la acțiune -->
<div class="card" style="margin-top: 60px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-align: center;">
    <h2 style="font-size: 32px; margin-bottom: 20px; color: white;">
        Gata să începeți?
    </h2>
    <p style="font-size: 18px; margin-bottom: 30px; opacity: 0.95;">
        Înregistrați-vă chiar acum și începeți să țineți evidența clienților dvs.
    </p>
    <div style="display: flex; gap: 20px; justify-content: center;">
        <a href="{% url 'register' %}" class="btn btn-secondary" style="font-size: 16px; padding: 14px 35px;">
            Înregistrare
        </a>
        <a href="{% url 'login' %}" class="btn" style="background: rgba(255,255,255,0.2); color: white; font-size: 16px; padding: 14px 35px; border: 2px solid white;">
            Am deja cont
        </a>
    </div>
</div>
{% endif %}

<!-- Informații pentru utilizatorii autentificați -->
{% if user.is_authenticated %}
<div class="card" style="margin-top: 60px; background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border: 2px solid #0ea5e9;">
    <div style="text-align: center;">
        <h2 style="font-size: 28px; margin-bottom: 20px; color: #0c4a6e;">
            👋 Bun venit, {{ user.first_name|default:user.username }}!
        </h2>
        <p style="font-size: 16px; color: #0369a1; margin-bottom: 30px;">
            Utilizați panoul de navigare pentru a gestiona persoane și servicii
        </p>
        <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
            <a href="{% url 'dashboard' %}" class="btn btn-primary">
                📊 Panou de control
            </a>
            <a href="{% url 'people_list' %}" class="btn btn-secondary">
                👥 Lista de persoane
            </a>
            <a href="{% url 'person_add' %}" class="btn btn-success">
                ➕ Adaugă persoană
            </a>
        </div>
    </div>
</div>
{% endif %}
</div>
{% endblock %}